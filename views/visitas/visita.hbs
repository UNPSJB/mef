<div style="padding-top: 10px"></div>
<h1 class="bg-secondary text-center text-white rounded p-2">
    Visitas Guiadas
    <a href="/visitas/agregar" class="btn btn-success btn-primary border border-light" rel="noopener noreferrer">
      +
    </a>
  </h1>
<table class="table table-striped table-bordered" id="visitas" >
  <thead>
    <th scope="col">Exhibición</th>
    <th scope="col">Cliente</th>
    <th scope="col">Guía</th>
    <th scope="col">Cantidad de personas</th>
    <th scope="col">Fecha de visita</th>
    <th scope="col">Horario</th>
    <th scope="col">Precio</th>
    <th scope="col">Acciones</th>
  </thead>
  <tbody>
    {{#each visitas}}
    <tr>
      <td>{{this.Exhibicion.tematica}} | {{this.Exhibicion.nombre}}</td>
      <td>{{this.Cliente.Persona.identificacion}} | {{this.Cliente.Persona.nombre}} {{this.Cliente.Persona.apellido}}</td>
      <td>{{this.Guium.Persona.identificacion}} | {{this.Guium.Persona.nombre}} {{this.Guium.Persona.apellido}} </td>
      <td>{{this.cantidadDePersonas}}</td>
      <td>{{this.fechaVisita}}</td>
      <td>{{this.horario}} hs</td>
      <td>${{this.precio}}</td>
      <td>
        <a href="/visitas/editar/{{this.id}}"><span class="material-icons">edit</span></a>
        <a href="/visitas/eliminar/{{this.id}}"><span style="color:red" class="material-icons">delete</span></a>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js"></script>
<script>
$(document).ready( function () {
  $('#visitas').DataTable({
     dom: 'Bfrtip',
      buttons: [
        'pdf', 'excel', 'csv'
      ],
    searching: true,
    ordering:  true,
    language: {
        processing:"Buscando...",
        search:"Buscar:",
        lengthMenu:"Mostrando _MENU_",
        info:"Mostrando _START_ de _END_ de un total de _TOTAL_ ",
        infoEmpty:"Mostrando 0 de 0 de un total de 0 ",
        infoFiltered: "(de un total de _MAX_)",
        infoPostFix: "",
        loadingRecords:"Cargando...",
        zeroRecords:"No hay elementos agregados",
        emptyTable:"No hay elementos :(",
        paginate:{
            first:"Primero",
            previous:"Anterior",
            next:"Siguiente",
            last:"Último"
        },
        aria: {
            sortAscending:  ": Ordenar ascendente",
            sortDescending: ": Ordenar descendente"
        }
    }
  });
});
</script>

<link rel="stylesheet" type="text/css"
  href="https://cdn.datatables.net/v/bs4/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/datatables.min.css" />

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript"
  src="https://cdn.datatables.net/v/bs4/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/datatables.min.js"></script>