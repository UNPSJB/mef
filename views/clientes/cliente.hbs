<div class="p-2">
  <h1 class="bg-secondary text-center text-white rounded p-2">
    Clientes
    {{#if req.exhibicion }}
    <a href="/clientes/agregar" class="btn btn-success btn-primary border border-light" rel="noopener noreferrer">
      +
    </a>
    {{/if}}
  </h1>
  <table style="table-layout: fixed; word-wrap: break-word;" class="table table-striped table-bordered" id="clientesTable">
    <thead>
      <th>Documento</th>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Tipo</th>
      <th>Dirección</th>
      <th>Localidad</th>
      <th>Correo Electrónico</th>
      <th>Fecha de Nacimiento</th>
      <th>Teléfono</th>
      <th data-orderable="false">Acciones</th> <!-- Se añade data-orderable="false" para desactivar el ordenamiento -->
    </thead>
    <tbody>
      {{#each results}}
      <tr>
        <td>{{this.Persona.identificacion}}</td>
        <td>{{this.Persona.nombre}}</td>
        <td>{{this.Persona.apellido}}</td>
        <td>{{this.tipo}}</td>
        <td>{{this.Persona.direccion}}</td>
        <td>{{this.Persona.localidad}}</td>
        <td>{{this.Persona.email}}</td>
        <td>{{this.Persona.fecha_nacimiento}}</td>
        <td>{{this.Persona.telefono}}</td>
        <!-- acciones aca -->
        <td>
          <a href="/clientes/editar/{{this.id}}"><span class="material-icons">edit</span></a>
          <!--editar-->
          <a href="/clientes/eliminar/{{this.id}}"><span style="color:red" class="material-icons">delete</span></a>
          {{!-- otras acciones mas --}}
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</div>

<script>
  $(document).ready(function () {
    $('#clientesTable').DataTable({
      dom: 'Bfrtip',
      buttons: [
        'pdf', 'excel', 'csv'
      ],
      searching: true,
      ordering: true,
      language: {
        processing: "Buscando...",
        search: "Buscar:",
        lengthMenu: "Mostrando _MENU_",
        info: "Mostrando _START_ de _END_ de un total de _TOTAL_ ",
        infoEmpty: "Mostrando 0 de 0 de un total de 0 ",
        infoFiltered: "(de un total de _MAX_)",
        infoPostFix: "",
        loadingRecords: "Cargando...",
        zeroRecords: "No hay coincidencias.",
        emptyTable: "No hay clientes.",
        paginate: {
          first: "Primero",
          previous: "Anterior",
          next: "Siguiente",
          last: "Último"
        },
        aria: {
          sortAscending: ": Ordenar ascendente",
          sortDescending: ": Ordenar descendente"
        }
      },
      columnDefs: [
        { orderable: false, targets: -1 } // La columna -1 es la última columna (Acciones)
      ]
    });
  });
</script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/datatables.min.css" />

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/datatables.min.js"></script>
