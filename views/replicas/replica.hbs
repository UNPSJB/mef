<div style="padding-top: 10px">
  <h1 class="bg-secondary text-center text-white rounded p-2">
    Replicas 
  </h1>
    <table id="replicas" class="table table-striped table-bordered" >
        <thead>
            <th scope="col">Dinosaurio</th>
            <th scope="col">Hueso</th>
            <th scope="col">Tipo</th>
            <th scope="col">Fecha de inicio</th>
            <th scope="col">Fecha de finalizacion</th>
            <th scope="col">Disponible</th>
            <th scope="col">Acciones</th>
        </thead>
        <tbody>
        {{#each replicas}}
                <tr>
                    <td>{{this.Dinosaurio.nombre}}</td>
                    <td>{{this.Hueso.nombre}}</td>
                    <td>{{this.Pedido.tipo}}</td>
                    <td>{{this.fecha_inicio}}</td>
                    <td>{{this.fecha_fin}}</td>
                    <td>
                        <form action="/replicas/disponibilidad?_method=PATCH" method="POST">
                        <label class="switch">
                        {{#if this.disponible}}
                        <input onchange="toggleDisponible({{this.id}})" type="checkbox" checked>
                        {{else}}
                        <input onchange="toggleDisponible({{this.id}})" type="checkbox">
                        {{/if}}
                        <span class="slider round"></span>
                        </label>
                    </form>
                    </td>
                    <!-- acciones aca -->
                     <td>
                         
                         <a href="/replicas/eliminar/{{this.id}}"><span style="color:red" class="material-icons">delete</span></a>
                     </td>
                </tr>
        {{/each}}
        </tbody>    
    </table>
</div>       
<script>
  $(document).ready(function () {
    $('#replicas').DataTable() 
  })
</script>

<script>
function toggleDisponible(id){
    fetch(`http://localhost:3000/replicas/disponibilidad/${id}`,{
        method:"PATCH",
        credentials:"same-origin",
    })
    //aca hago una llamada con fetch
}
</script>
{{!-- <link type="text/css" rel="stylesheet" href="toggleSwitch.css"> no funciona--}}
<style>
    /* The switch - the box around the slider */
.switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
  }
  
  /* Hide default HTML checkbox */
  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  
  /* The slider */
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
  }
  
  .slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
  }
  
  input:checked + .slider {
    background-color: #2196F3;
  }
  
  input:focus + .slider {
    box-shadow: 0 0 1px #2196F3;
  }
  
  input:checked + .slider:before {
    -webkit-transform: translateX(26px);
    -ms-transform: translateX(26px);
    transform: translateX(26px);
  }
  
  /* Rounded sliders */
  .slider.round {
    border-radius: 34px;
  }
  
  .slider.round:before {
    border-radius: 50%;
  }
</style>


<link rel="stylesheet" type="text/css"
  href="https://cdn.datatables.net/v/bs4/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/datatables.min.css" />

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript"
  src="https://cdn.datatables.net/v/bs4/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-flash-1.6.2/b-html5-1.6.2/datatables.min.js"></script>